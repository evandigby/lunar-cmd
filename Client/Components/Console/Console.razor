@inject HttpClient http

<Stack VerticalFill VerticalAlign="Alignment.End">
    <Stack VerticalFill VerticalAlign="Alignment.End">

    </Stack>
    <form @onsubmit=Enter>
        <Stack Horizontal>
            <StackItem Grow=1>
                <TextField @bind-Value=currentValue />
            </StackItem>
            <DefaultButton Text="Send" />
        </Stack>
    </form>
</Stack>

@code {
    private string currentValue = "";

    private async Task Enter()
    {
        var cmd = new AppendLogItemCommand
        {
            Payload = new PlaintextPayloadValue
            {
                Value = currentValue
            }
        };

        var src = new CancellationTokenSource();
        await http.PostAsJsonAsync("/api/command", cmd, src.Token);
        currentValue = "";
    }
}
